{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/joe/Library/CloudStorage/GoogleDrive-deluxe.joe%40gmail.com/My%20Drive/Jobs/2026/Feb/Peasy/prototype1/prototype-1/frontend/src/utils/api.ts"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api';\n\ninterface RequestOptions extends RequestInit {\n  token?: string;\n}\n\nexport const api = {\n  async request<T>(endpoint: string, options: RequestOptions = {}): Promise<T> {\n    const { token, headers, ...customConfig } = options;\n    \n    const defaultHeaders: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    if (token) {\n      defaultHeaders['Authorization'] = `Bearer ${token}`;\n    } else {\n      // Check for token in localStorage if running in browser\n      if (typeof window !== 'undefined') {\n        const storedToken = localStorage.getItem('token');\n        if (storedToken) {\n          defaultHeaders['Authorization'] = `Bearer ${storedToken}`;\n        }\n      }\n    }\n\n    const config: RequestInit = {\n      ...customConfig,\n      headers: {\n        ...defaultHeaders,\n        ...headers,\n      },\n    };\n\n    const response = await fetch(`${API_URL}${endpoint}`, config);\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || 'Something went wrong');\n    }\n\n    return data;\n  },\n\n  get<T>(endpoint: string, options: RequestOptions = {}) {\n    return this.request<T>(endpoint, { ...options, method: 'GET' });\n  },\n\n  post<T>(endpoint: string, body: any, options: RequestOptions = {}) {\n    return this.request<T>(endpoint, { ...options, method: 'POST', body: JSON.stringify(body) });\n  },\n\n  put<T>(endpoint: string, body: any, options: RequestOptions = {}) {\n    return this.request<T>(endpoint, { ...options, method: 'PUT', body: JSON.stringify(body) });\n  },\n\n  delete<T>(endpoint: string, options: RequestOptions = {}) {\n    return this.request<T>(endpoint, { ...options, method: 'DELETE' });\n  },\n};\n"],"names":[],"mappings":";;;;AAAA,MAAM,UAAU,iEAAmC;AAM5C,MAAM,MAAM;IACjB,MAAM,SAAW,QAAgB,EAAE,UAA0B,CAAC,CAAC;QAC7D,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,cAAc,GAAG;QAE5C,MAAM,iBAA8B;YAClC,gBAAgB;QAClB;QAEA,IAAI,OAAO;YACT,cAAc,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QACrD,OAAO;YACL,wDAAwD;YACxD;;QAMF;QAEA,MAAM,SAAsB;YAC1B,GAAG,YAAY;YACf,SAAS;gBACP,GAAG,cAAc;gBACjB,GAAG,OAAO;YACZ;QACF;QAEA,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;QACtD,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;QAChC;QAEA,OAAO;IACT;IAEA,KAAO,QAAgB,EAAE,UAA0B,CAAC,CAAC;QACnD,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAAE,GAAG,OAAO;YAAE,QAAQ;QAAM;IAC/D;IAEA,MAAQ,QAAgB,EAAE,IAAS,EAAE,UAA0B,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAAE,GAAG,OAAO;YAAE,QAAQ;YAAQ,MAAM,KAAK,SAAS,CAAC;QAAM;IAC5F;IAEA,KAAO,QAAgB,EAAE,IAAS,EAAE,UAA0B,CAAC,CAAC;QAC9D,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAAE,GAAG,OAAO;YAAE,QAAQ;YAAO,MAAM,KAAK,SAAS,CAAC;QAAM;IAC3F;IAEA,QAAU,QAAgB,EAAE,UAA0B,CAAC,CAAC;QACtD,OAAO,IAAI,CAAC,OAAO,CAAI,UAAU;YAAE,GAAG,OAAO;YAAE,QAAQ;QAAS;IAClE;AACF"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/joe/Library/CloudStorage/GoogleDrive-deluxe.joe%40gmail.com/My%20Drive/Jobs/2026/Feb/Peasy/prototype1/prototype-1/frontend/src/app/employers/questionnaire/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { ChevronLeft, ChevronRight, Check, AlertCircle } from 'lucide-react';\nimport { api } from '@/utils/api';\n\ninterface Field {\n  name: string;\n  label: string;\n  type: string;\n  placeholder?: string;\n  options?: string[];\n}\n\ninterface Step {\n  title: string;\n  fields: Field[];\n}\n\nconst steps: Step[] = [\n  {\n    title: '帳戶設定',\n    fields: [\n      { name: 'email', label: '電郵地址', type: 'email', placeholder: 'your@email.com' },\n      { name: 'password', label: '密碼', type: 'password', placeholder: '至少8位字元' },\n      { name: 'confirmPassword', label: '確認密碼', type: 'password', placeholder: '再次輸入密碼' },\n      { name: 'phone', label: '電話號碼', type: 'tel', placeholder: '+852 0000 0000' },\n    ]\n  },\n  {\n    title: '基本資料',\n    fields: [\n      { name: 'name', label: '您的稱呼', type: 'text', placeholder: '陳先生/小姐' },\n      { name: 'familySize', label: '家庭人數', type: 'select', options: ['1-2人', '3-4人', '5-6人', '7人以上'] },\n      { name: 'homeSize', label: '居住面積', type: 'select', options: ['< 400呎', '400-600呎', '600-800呎', '800-1000呎', '> 1000呎'] },\n      { name: 'district', label: '居住地區', type: 'select', options: ['香港島', '九龍', '新界東', '新界西'] },\n    ]\n  },\n  {\n    title: '工作需求',\n    fields: [\n      { name: 'careType', label: '主要照顧對象', type: 'select', options: ['嬰兒 (0-2歲)', '幼兒 (2-6歲)', '學童', '長者', '寵物', '家務'] },\n      { name: 'workHours', label: '工作時間', type: 'select', options: ['全職住家', '全職非住家', '兼職'] },\n      { name: 'startDate', label: '預計開始日期', type: 'date' },\n    ]\n  },\n  {\n    title: '技能要求',\n    fields: [\n      { name: 'cooking', label: '煮食要求', type: 'select', options: ['不需煮食', '簡單煮食', '一般家常菜', '擅長中菜', '擅長西餐', '需要烘焙'] },\n      { name: 'language', label: '語言要求', type: 'select', options: ['廣東話', '普通話', '英文', '印尼話', '菲律賓話'] },\n      { name: 'driving', label: '需要駕駛?', type: 'checkbox' },\n    ]\n  },\n  {\n    title: '配對偏好',\n    fields: [\n      { name: 'experience', label: '經驗要求', type: 'select', options: ['新手亦可', '1-2年經驗', '3-5年經驗', '5年以上'] },\n      { name: 'personality', label: '期望性格', type: 'select', options: ['主動積極', '細心有耐心', '誠寶可靠', '獨立自主'] },\n      { name: 'budget', label: '月薪預算 (HKD)', type: 'select', options: ['$4,000-5,000', '$5,000-6,000', '$6,000-7,000', '$7,000-8,000', '$8,000以上'] },\n    ]\n  },\n];\n\nexport default function Questionnaire() {\n  const router = useRouter();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState<Record<string, any>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [isComplete, setIsComplete] = useState(false);\n  const [verificationPending, setVerificationPending] = useState(false); // Add verification state\n\n  const handleInputChange = (name: string, value: any) => {\n    setFormData(prev => ({ ...prev, [name]: value }));\n    setError('');\n  };\n\n  const validateStep = () => {\n    const fields = steps[currentStep].fields;\n    for (const field of fields) {\n      if (field.type !== 'checkbox' && !formData[field.name]) {\n        setError(`請填寫${field.label}`);\n        return false;\n      }\n    }\n    \n    if (currentStep === 0) {\n      if (formData.password !== formData.confirmPassword) {\n        setError('兩次輸入的密碼不一致');\n        return false;\n      }\n      if (formData.password.length < 8) {\n        setError('密碼長度需至少8位字元');\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const handleNext = () => {\n    if (validateStep()) {\n      if (currentStep < steps.length - 1) {\n        setCurrentStep(prev => prev + 1);\n        setError('');\n      }\n    }\n  };\n\n  const handlePrev = () => {\n    if (currentStep > 0) {\n      setCurrentStep(prev => prev - 1);\n      setError('');\n    }\n  };\n\n  const convertHouseholdSize = (size: string) => {\n    if (size.includes('1-2')) return 2;\n    if (size.includes('3-4')) return 4;\n    if (size.includes('5-6')) return 6;\n    return 8;\n  };\n\n  const convertExperience = (exp: string) => {\n    if (exp.includes('1-2')) return 2;\n    if (exp.includes('3-5')) return 4;\n    if (exp.includes('5')) return 6;\n    return 0;\n  };\n\n  const handleSubmit = async () => {\n    if (!validateStep()) return;\n    \n    setIsSubmitting(true);\n    setError('');\n\n    try {\n      let token = localStorage.getItem('token');\n      \n      // 1. Register if no token found\n      if (!token) {\n        const authData = await api.post<{ user: any; token: string; verificationRequired?: boolean }>('/auth/register', {\n          email: formData.email,\n          password: formData.password,\n          phone: formData.phone,\n          role: 'employer'\n        });\n\n        // If verification is required, stop here and show verification UI\n        if (authData.verificationRequired) {\n           setVerificationPending(true);\n           // We still store the DEV_TOKEN if available to allow \"I have verified\" button to proceed\n           // But in a real app, we might wait. Here we store it but block UI.\n           if (authData.token) {\n             localStorage.setItem('token', authData.token);\n             localStorage.setItem('user', JSON.stringify(authData.user));\n           }\n           setIsSubmitting(false);\n           return;\n        }\n\n        token = authData.token;\n        localStorage.setItem('token', authData.token);\n        localStorage.setItem('user', JSON.stringify(authData.user));\n      }\n\n      // 2. Create Profile\n      const profileData = {\n        name: formData.name,\n        householdSize: convertHouseholdSize(formData.familySize),\n        location: formData.district,\n        languagePreferences: [formData.language],\n        preferredHelperTraits: [formData.personality],\n        // Other mappings\n      };\n\n      await api.post('/employers/profile', profileData, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      // 3. Create Job\n      const jobData = {\n        title: `聘請家庭幫手 - ${formData.district}`,\n        description: `需要照顧${formData.careType}，${formData.workHours}，${formData.cooking}`,\n        duties: {\n          care: formData.careType,\n          cooking: formData.cooking,\n          driving: formData.driving,\n          housework: true\n        },\n        preferredExperienceYears: convertExperience(formData.experience),\n        preferredLanguages: [formData.language],\n        preferredStartDate: formData.startDate,\n        salaryRange: formData.budget,\n      };\n\n      await api.post('/employers/jobs', jobData, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      setIsComplete(true);\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || '註冊失敗，請稍後再試');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleVerificationComplete = async () => {\n    // When user says they are verified, we try to proceed with profile creation\n    // In this prototype with DEV_TOKEN, it will just proceed.\n    // In real app, we might want to refresh token or call an endpoint to check verification status.\n    setIsSubmitting(true);\n    setVerificationPending(false);\n    \n    // We need to re-trigger the profile/job creation part. \n    // Since handleSubmit is designed to be idempotent-ish (checks for token), calling it again works.\n    await handleSubmit();\n  };\n\n  if (verificationPending) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <header className=\"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-200\">\n          <div className=\"max-w-[1200px] mx-auto px-6 lg:px-8\">\n            <div className=\"flex justify-between items-center h-16\">\n              <Link href=\"/\" className=\"text-2xl font-extrabold tracking-tight text-black\">Peasy</Link>\n            </div>\n          </div>\n        </header>\n        \n        <main className=\"py-24 px-6\">\n          <div className=\"max-w-xl mx-auto text-center\">\n            <div className=\"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n              <div className=\"text-4xl\">✉️</div>\n            </div>\n            <h1 className=\"text-3xl font-semibold text-black mb-4\">請驗證您的電郵地址</h1>\n            <p className=\"text-gray-600 mb-8 leading-relaxed\">\n              我們已發送一封驗證信至 <strong>{formData.email}</strong>。<br/>\n              請點擊信中的連結以啟用您的帳戶。\n            </p>\n            <div className=\"space-y-3\">\n              <button\n                onClick={handleVerificationComplete}\n                className=\"inline-flex items-center justify-center h-14 px-8 bg-blue-600 hover:bg-blue-700 text-white font-semibold text-lg rounded-full transition-all w-full sm:w-auto\"\n              >\n                我已完成驗證，繼續\n              </button>\n              <div className=\"mt-4\">\n                 <button className=\"text-gray-500 text-sm hover:underline\">沒收到郵件？重新發送</button>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  if (isComplete) {\n    return (\n      <div className=\"min-h-screen bg-white\">\n        <header className=\"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-200\">\n          <div className=\"max-w-[1200px] mx-auto px-6 lg:px-8\">\n            <div className=\"flex justify-between items-center h-16\">\n              <Link href=\"/\" className=\"text-2xl font-extrabold tracking-tight text-black\">Peasy</Link>\n            </div>\n          </div>\n        </header>\n        \n        <main className=\"py-24 px-6\">\n          <div className=\"max-w-xl mx-auto text-center\">\n            <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n              <Check className=\"w-10 h-10 text-green-600\" />\n            </div>\n            <h1 className=\"text-3xl font-semibold text-black mb-4\">問卷已提交！</h1>\n            <p className=\"text-gray-600 mb-8 leading-relaxed\">\n              感謝你填寫問卷。我們正在為你分析需求，並將在24小時內透過電郵發送最合適的配對結果。\n            </p>\n            <div className=\"space-y-3\">\n              <Link\n                href=\"/employers/dashboard\"\n                className=\"inline-flex items-center justify-center h-14 px-8 bg-red-600 hover:bg-red-700 text-white font-semibold text-lg rounded-full transition-all\"\n              >\n                查看配對結果\n              </Link>\n              <div>\n                <Link href=\"/\" className=\"text-gray-600 hover:text-black underline\">\n                  返回首頁\n                </Link>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  const currentStepData = steps[currentStep];\n  const progress = ((currentStep + 1) / steps.length) * 100;\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <header className=\"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-200\">\n        <div className=\"max-w-[1200px] mx-auto px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <Link href=\"/\" className=\"text-2xl font-extrabold tracking-tight text-black\">Peasy</Link>\n            <Link href=\"/\" className=\"text-gray-600 hover:text-black font-medium\">返回首頁</Link>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"py-12 px-6\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"mb-8\">\n            <div className=\"flex justify-between text-sm font-medium mb-2\">\n              <span className=\"text-black\">步驟 {currentStep + 1} / {steps.length}</span>\n              <span className=\"text-gray-600\">{currentStepData.title}</span>\n            </div>\n            <div className=\"h-2 bg-gray-100 rounded-full overflow-hidden\">\n              <div className=\"h-full bg-red-600 transition-all duration-300\" style={{ width: `${progress}%` }} />\n            </div>\n            <div className=\"flex justify-between mt-4\">\n              {steps.map((step, index) => (\n                <div key={index} className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${\n                  index <= currentStep ? 'bg-red-600 text-white' : 'bg-gray-100 text-gray-500'\n                }`}>\n                  {index < currentStep ? <Check className=\"w-4 h-4\" /> : index + 1}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-2xl p-8\">\n            {error && (\n              <div className=\"mb-6 p-4 bg-red-50 border border-red-100 rounded-lg flex items-center gap-2 text-red-600\">\n                <AlertCircle className=\"w-5 h-5 flex-shrink-0\" />\n                <div className=\"flex flex-col sm:flex-row sm:items-center gap-1\">\n                  <p className=\"text-sm\">{error}</p>\n                  {(error.toLowerCase().includes('exist') || error.toLowerCase().includes('registered')) && (\n                    <Link href=\"/login\" className=\"text-sm font-bold underline hover:text-red-800\">\n                      立即登入\n                    </Link>\n                  )}\n                </div>\n              </div>\n            )}\n            <h2 className=\"text-xl font-semibold text-black mb-6\">{currentStepData.title}</h2>\n            <div className=\"space-y-5\">\n              {currentStepData.fields.map((field) => (\n                <div key={field.name}>\n                  <label className=\"block text-sm font-medium text-black mb-2\">{field.label}</label>\n                  {field.type === 'text' || field.type === 'email' || field.type === 'password' || field.type === 'tel' ? (\n                     <input\n                      type={field.type}\n                      value={formData[field.name] || ''}\n                      onChange={(e) => handleInputChange(field.name, e.target.value)}\n                      placeholder={field.placeholder}\n                      className=\"w-full h-12 px-4 bg-white border border-gray-200 rounded-lg focus:border-red-600 focus:outline-none\"\n                    />\n                  ) : null}\n                  {field.type === 'select' && (\n                    <select\n                      value={formData[field.name] || ''}\n                      onChange={(e) => handleInputChange(field.name, e.target.value)}\n                      className=\"w-full h-12 px-4 bg-white border border-gray-200 rounded-lg focus:border-red-600 focus:outline-none\"\n                    >\n                      <option value=\"\">請選擇...</option>\n                      {field.options?.map((option) => (\n                        <option key={option} value={option}>{option}</option>\n                      ))}\n                    </select>\n                  )}\n                  {field.type === 'date' && (\n                    <input\n                      type=\"date\"\n                      value={formData[field.name] || ''}\n                      onChange={(e) => handleInputChange(field.name, e.target.value)}\n                      className=\"w-full h-12 px-4 bg-white border border-gray-200 rounded-lg focus:border-red-600 focus:outline-none\"\n                    />\n                  )}\n                  {field.type === 'checkbox' && (\n                    <label className=\"flex items-center gap-3 cursor-pointer\">\n                      <input\n                        type=\"checkbox\"\n                        checked={formData[field.name] || false}\n                        onChange={(e) => handleInputChange(field.name, e.target.checked)}\n                        className=\"w-5 h-5 accent-red-600\"\n                      />\n                      <span className=\"text-gray-600\">是</span>\n                    </label>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"flex justify-between mt-8\">\n            <button\n              onClick={handlePrev}\n              disabled={currentStep === 0}\n              className=\"inline-flex items-center gap-2 h-12 px-6 bg-transparent border-2 border-gray-200 hover:border-gray-800 text-black font-semibold rounded-full transition-all disabled:opacity-50\"\n            >\n              <ChevronLeft className=\"w-5 h-5\" />上一步\n            </button>\n            \n            {currentStep === steps.length - 1 ? (\n              <button\n                onClick={handleSubmit}\n                disabled={isSubmitting}\n                className=\"inline-flex items-center justify-center h-12 px-8 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-full transition-all disabled:opacity-50\"\n              >\n                {isSubmitting ? '提交中...' : '提交問卷'}\n              </button>\n            ) : (\n              <button\n                onClick={handleNext}\n                className=\"inline-flex items-center gap-2 h-12 px-6 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-full transition-all\"\n              >\n                下一步<ChevronRight className=\"w-5 h-5\" />\n              </button>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}